<!DOCTYPE html>

<html lang="fi">
<head>

<meta charset="utf-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Yhteystiedot</title>

<!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://use.fontawesome.com/releaves/v5.0.8/js/all.js"></script>
<!-- BOOTSRAP -tyylien määrittely -->
<link
rel="stylesheet"
href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
crossorigin="anonymous"
/>
<!-- Tyylien määrittelyä -->
<style>
div {
  margin: 10px;
}
form {
  border: 1px solid lightgrey;
  padding: 10px;
}
</style>

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<!-- Font Awesome -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

<!--oma CSS tiedosto -->
<link rel="stylesheet" type="text/css" href="/css/third.css" />


</head>

<body>

<!-- Navigation/header -->
<header>
<nav class="navbar navbar-expand-md navbar-light bg-light sticky-top">
<div class="container-fluid">
  <a class="navbar-brand" href="#"><img src="/images/Logo.png" width="150" height="100"></a>
   <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    <span class="navbar-toggler-icon"></span>
   </button>
	<div class="collapse navbar-collapse" id="collapsibleNavbar">
	 <ul class="navbar-nav ml-auto">
	    <li class="nav-item">
		<i class="fas fa-home"></i>
		<a class="nav-link" href="/static/index.html">Koti</a></li>
	</li>	
	 <li class="nav-item">
	 <i class="fas fa-envelope-square"></i>
	  <a class="nav-link" href="/static/guestbook.html">Guestbook</a></li>
	</li>		 
	 <li class="nav-item">
	 <i class="fas fa-dumbbell"></i>
	  <a class="nav-link" href="/static/newmessage.html">New Messages</a></li>
	</li>		 
	 <li class="nav-item">
	 <i class="fas fa-camera-retro"></i>
	  <a class="nav-link" href="/static/ajaxmessage.html">AJAX Messages</a>
		</li>		 		
      </ul>
 </div>	  
</div>
</nav>
</header>

<!-- Tässä lomakkeen koodi-->
<div>
    <!-- Huomaa, että lomakkeen metodi = POST -->
    <!-- action -määrittelee URL:n johon POST-tyyppinen pyyntö lähetetään -->
      <form method="POST" action="/kirjaudu">
        <div class="form-group">
          <label for="exampleInputUsername1">Username</label>
          <!-- Huomaa tekstikentän name-attribuutti -->
          <input
            type="username"
            class="form-control"
            id="username"
            aria-describedby="usernameHelp"
            placeholder="Enter username"
            name="username" 
          />
        </div>
        <div class="form-group">
          <label for="exampleInputCountry1">Country</label>
          <!-- Huomaa tekstikentän name-attribuutti -->
           <input
            type="country"
            class="form-control"
            id="country"
            placeholder="Enter country"
            name="country"
          />
        </div>
		<div class="form-group">
			<label for="exampleInputMessage1">Message</label>
			<!-- Huomaa tekstikentän name-attribuutti -->
			 <input
			  type="message"
			  class="form-control"
			  id="message"
			  placeholder="Message"
			  name="message"
			/>
		  </div>
        <!-- Buttonin type = submit, joka saa aikaan lomakkeen lähetyksen -->
        <button type="submit" id="button1" class="btn btn-primary">
          Submit
        </button>
      </form>
    </div>


    <script type="text/javascript">
    const addToGuestbookBody = document.querySelector("#data-table");

    function addToGuestbook () {
      const request = new XMLHttpRequest();

      request.open("get", "12/data.json");
      request.onload = () => {
        try {
          const json = JSON.parse(request.responseText);
          populateData (json);
        } catch (e) {
          console.warn("Could not load messages! :(" );
        }
      };
        request.send();
      
    }

    function poplulateMessages (json) {
      // Pyyhkii tämän hetkisen tablen
      while (addToGuestbookBody.firstChild) {
        addToGuestbookBody.removeChild(addToGuestbookBody.firstChild);
      }

      // Populate table
      json.forEach((row) => {
        const tr = document.createElement("tr");

        row.forEach((cell) => {
          const td = document.createElement("td");
          td.textContent = cell;
          tr.appenChild(td);
        });

        addToGuestbookBody.appenChild(tr);
      });
    }

    document.addEventListener("DOMContentLoaded", () => { addToGuestbook(); });
    </script>

</body>
</html>